<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>fetch简介---新一代Ajax API | 夏浅安のブログ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="fetch" />
    
    <meta name="description" content="AJAX半遮半掩的底层API是饱受诟病的一件事情. XMLHttpRequest 并不是专为Ajax而设计的. 虽然各种框架对 XHR 的封装已经足够好用, 但我们可以做得更好。更好用的API是 fetch 。下面简单介绍 window.fetch 方法, 在最新版的 Firefox 和 Chrome 中已经提供支持。">
<meta name="keywords" content="fetch">
<meta property="og:type" content="article">
<meta property="og:title" content="fetch简介---新一代Ajax API">
<meta property="og:url" content="http://github.com/xiaqianan/2017/12/07/深入浅出Fetch-API/index.html">
<meta property="og:site_name" content="夏浅安のブログ">
<meta property="og:description" content="AJAX半遮半掩的底层API是饱受诟病的一件事情. XMLHttpRequest 并不是专为Ajax而设计的. 虽然各种框架对 XHR 的封装已经足够好用, 但我们可以做得更好。更好用的API是 fetch 。下面简单介绍 window.fetch 方法, 在最新版的 Firefox 和 Chrome 中已经提供支持。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-01-13T12:50:11.475Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fetch简介---新一代Ajax API">
<meta name="twitter:description" content="AJAX半遮半掩的底层API是饱受诟病的一件事情. XMLHttpRequest 并不是专为Ajax而设计的. 虽然各种框架对 XHR 的封装已经足够好用, 但我们可以做得更好。更好用的API是 fetch 。下面简单介绍 window.fetch 方法, 在最新版的 Firefox 和 Chrome 中已经提供支持。">
    

    
        <link rel="alternate" href="/" title="夏浅安のブログ" type="application/atom+xml" />
    

    
        <link rel="icon" href="/images/an.png" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">いつからか好きになっていました</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">ホーム</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AMQ/">AMQ</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Ajax/">Ajax</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Elasticsearch/">Elasticsearch</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Java/">Java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Js/">Js</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Mysql/">Mysql</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Python/">Python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Shell/">Shell</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/algorithm/">algorithm</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/command/">command</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/docker/">docker</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/fetch/">fetch</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/interview/">interview</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/network/">network</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/python/">python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/redis/">redis</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/regex/">regex</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/spring/">spring</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/sql/">sql</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/读书/">读书</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">このブログについて</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="https://github.com/xiaqianan">index.github</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="入力してください" />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '記事',
            PAGES: 'ページ',
            CATEGORIES: 'カテゴリー',
            TAGS: 'タグ',
            UNTITLED: '（名称未設定）',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/fetch/">fetch</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-深入浅出Fetch-API" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        fetch简介---新一代Ajax API
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/12/07/深入浅出Fetch-API/" class="article-date">
            <time datetime="2017-12-07T05:14:02.000Z" itemprop="datePublished">2017-12-07</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/fetch/">fetch</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>AJAX半遮半掩的底层API是饱受诟病的一件事情. <strong>XMLHttpRequest</strong> 并不是专为Ajax而设计的. 虽然各种框架对 XHR 的封装已经足够好用, 但我们可以做得更好。更好用的API是 <code>fetch</code> 。下面简单介绍 <code>window.fetch</code> 方法, 在最新版的 Firefox 和 Chrome 中已经提供支持。<br><a id="more"></a></p>
<h2 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h2><p>在我看来 <code>XHR</code> 有点复杂, 我不想解释为什么“XML”是大写,而“Http”是“骆峰式”写法。使用XHR的方式大致如下:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取 XHR 非常混乱!</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123; <span class="comment">// Mozilla, Safari, ...</span></span><br><span class="line">  request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.ActiveXObject) &#123; <span class="comment">// IE</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    request = <span class="keyword">new</span> ActiveXObject(<span class="string">'Msxml2.XMLHTTP'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      request = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打开连接, 发送数据.</span></span><br><span class="line">request.open(<span class="string">'GET'</span>, <span class="string">'https://davidwalsh.name/ajax-endpoint'</span>, <span class="literal">true</span>);</span><br><span class="line">request.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure></p>
<p>我们可以看出, <code>XHR</code> 其实是很杂乱的; 当然, 通过 <code>JavaScript</code> 框架可以很方便地使用XHR。</p>
<h2 id="fetch-的基本使用"><a href="#fetch-的基本使用" class="headerlink" title="fetch 的基本使用"></a>fetch 的基本使用</h2><p><code>fetch</code> 是全局量 <code>window</code> 的一个方法, 第一个参数是URL:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// url (必须), options (可选)</span></span><br><span class="line">fetch(<span class="string">'/some/url'</span>, &#123;</span><br><span class="line">    method: <span class="string">'get'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 出错了;等价于 then 的第二个参数,但这样更好用更直观 :(</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>和 <code>Battery API</code> 类似, <code>fetch API</code> 也使用了 <code>JavaScript Promises</code> 来处理结果/回调:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对响应的简单处理</span></span><br><span class="line">fetch(<span class="string">'/some/url'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 出错了;等价于 then 的第二个参数,但这样更直观 :(</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 链式处理,将异步变为类似单线程的写法: 高级用法.</span></span><br><span class="line">fetch(<span class="string">'/some/url'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">//... 执行成功, 第1步...</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">returnedValue</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ... 执行成功, 第2步...</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 中途任何地方出错...在此处理 :(</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果你还不习惯 <code>then</code> 方式的写法,那最好学习一下,因为很快就会全面流行。</p>
<h2 id="请求头-Request-Headers"><a href="#请求头-Request-Headers" class="headerlink" title="请求头(Request Headers)"></a>请求头(Request Headers)</h2><p>自定义请求头信息极大地增强了请求的灵活性。我们可以通过 <code>new Headers()</code> 来创建请求头:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个空的 Headers 对象,注意是Headers，不是Header</span></span><br><span class="line"><span class="keyword">var</span> headers = <span class="keyword">new</span> Headers();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加(append)请求头信息</span></span><br><span class="line">headers.append(<span class="string">'Content-Type'</span>, <span class="string">'text/plain'</span>);</span><br><span class="line">headers.append(<span class="string">'X-My-Custom-Header'</span>, <span class="string">'CustomValue'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断(has), 获取(get), 以及修改(set)请求头的值</span></span><br><span class="line">headers.has(<span class="string">'Content-Type'</span>); <span class="comment">// true</span></span><br><span class="line">headers.get(<span class="string">'Content-Type'</span>); <span class="comment">// "text/plain"</span></span><br><span class="line">headers.set(<span class="string">'Content-Type'</span>, <span class="string">'application/json'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除某条请求头信息(a header)</span></span><br><span class="line">headers.delete(<span class="string">'X-My-Custom-Header'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建对象时设置初始化信息</span></span><br><span class="line"><span class="keyword">var</span> headers = <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>,</span><br><span class="line">    <span class="string">'X-My-Custom-Header'</span>: <span class="string">'CustomValue'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>可以使用的方法包括: <strong>append</strong>, <strong>has</strong>, <strong>get</strong>, <strong>set</strong>, 以及 <strong>delete</strong> 。需要创建一个 <code>Request</code> 对象来包装请求头:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> Request(<span class="string">'/some-url'</span>, &#123;</span><br><span class="line">    headers: <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fetch(request).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* handle response */</span> &#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="下面介绍-Response-和Request-的使用方法"><a href="#下面介绍-Response-和Request-的使用方法" class="headerlink" title="下面介绍 Response 和Request 的使用方法!"></a>下面介绍 Response 和Request 的使用方法!</h4><h3 id="Request-简介"><a href="#Request-简介" class="headerlink" title="Request 简介"></a>Request 简介</h3><p><code>Request</code> 对象表示一次 <code>fetch</code>调用的请求信息。传入 <code>Request</code> 参数来调用 <code>fetch</code>, 可以执行很多自定义请求的高级用法:</p>
<ul>
<li><code>method</code> - 支持 GET, POST, PUT, DELETE, HEAD</li>
<li><code>url</code> - 请求的 URL</li>
<li><code>headers</code> - 对应的 Headers 对象</li>
<li><code>referrer</code> - 请求的 referrer 信息</li>
<li><code>mode</code> - 可以设置 cors, no-cors, same-origin</li>
<li><code>credentials</code> - 设置 cookies 是否随请求一起发送。可以设置: omit, same-origin</li>
<li><code>redirect</code> - follow, error, manual</li>
<li><code>integrity</code> - subresource 完整性值(integrity value)</li>
<li><code>cache</code> - 设置 cache 模式 (default, reload, no-cache)<br><code>Request</code> 的示例如下:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> Request(<span class="string">'/users.json'</span>, &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    mode: <span class="string">'cors'</span>,</span><br><span class="line">    redirect: <span class="string">'follow'</span>,</span><br><span class="line">    headers: <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用!</span></span><br><span class="line">fetch(request).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* handle response */</span> &#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>只有第一个参数 <code>URL</code> 是必需的。在 <code>Request</code> 对象创建完成之后, 所有的属性都变为只读属性. 请注意, <code>Request</code> 有一个很重要的 <code>clone</code> 方法, 特别是在 <code>Service Worker API</code> 中使用时 —— 一个 <code>Request</code> 就代表一串流(stream), 如果想要传递给另一个 <code>fetch</code> 方法,则需要进行克隆。</p>
<p><code>fetch</code> 的方法签名(signature,可理解为配置参数), 和 <code>Request</code> 很像, 示例如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users.json&apos;, &#123;</span><br><span class="line">    method: &apos;POST&apos;,</span><br><span class="line">    mode: &apos;cors&apos;,</span><br><span class="line">    redirect: &apos;follow&apos;,</span><br><span class="line">    headers: new Headers(&#123;</span><br><span class="line">        &apos;Content-Type&apos;: &apos;text/plain&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(function() &#123; /* handle response */ &#125;);</span><br></pre></td></tr></table></figure></p>
<p>因为 <code>Request</code> 和 <code>fetch</code> 的签名一致, 所以在 <code>Service Workers</code> 中, 你可能会更喜欢使用<code>Request</code> 对象。关于 <code>ServiceWorker</code> 的相关博客请等待后续更新!</p>
<h3 id="Response-简介"><a href="#Response-简介" class="headerlink" title="Response 简介"></a>Response 简介</h3><p><code>Response</code> 代表响应,<code>fetch</code> 的 <code>then</code> 方法接收一个 <code>Response</code>实例, 当然你也可以手动创建<code>Response</code>对象 —— 比如在 <code>service workers</code> 中可能会用到.<code>Response</code> 可以配置的参数包括:</p>
<ul>
<li><code>type</code> - 类型,支持: basic, cors</li>
<li><code>url</code></li>
<li><code>useFinalURL</code> - Boolean 值, 代表 url 是否是最终 URL</li>
<li><code>status</code> - 状态码 (例如: 200, 404, 等等)</li>
<li><code>ok</code> - Boolean值,代表成功响应(status 值在 200-299 之间)</li>
<li><code>statusText</code> - 状态值(例如: OK)</li>
<li><code>headers</code> - 与响应相关联的 Headers 对象.</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 service worker 测试中手动创建 response</span></span><br><span class="line"><span class="comment">// new Response(BODY, OPTIONS)</span></span><br><span class="line"><span class="keyword">var</span> response = <span class="keyword">new</span> Response(<span class="string">'.....'</span>, &#123;</span><br><span class="line">    ok: <span class="literal">false</span>,</span><br><span class="line">    status: <span class="number">404</span>,</span><br><span class="line">    url: <span class="string">'/'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// fetch 的 `then` 会传入一个 Response 对象</span></span><br><span class="line">fetch(<span class="string">'/'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">responseObj</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'status: '</span>, responseObj.status);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p><code>Response</code> 提供的方法如下:</p>
<ul>
<li><code>clone()</code> - 创建一个新的 Response 克隆对象.</li>
<li><code>error()</code> - 返回一个新的,与网络错误相关的 Response 对象.</li>
<li><code>redirect()</code> - 重定向,使用新的 URL 创建新的 response 对象..</li>
<li><code>arrayBuffer()</code> - Returns a promise that resolves with an ArrayBuffer.</li>
<li><code>blob()</code>- 返回一个 promise, resolves 是一个 Blob.</li>
<li><code>formData()</code> - 返回一个 promise, resolves 是一个 FormData 对象.</li>
<li><code>json()</code> - 返回一个 promise, resolves 是一个 JSON 对象.</li>
<li><code>text()</code> - 返回一个 promise, resolves 是一个 USVString (text).<h3 id="处理-JSON响应"><a href="#处理-JSON响应" class="headerlink" title="处理 JSON响应"></a>处理 JSON响应</h3></li>
</ul>
<p>假设需要请求 <code>JSON</code> —— 回调结果对象 <code>response</code> 中有一个<code>json()</code>方法,用来将原始数据转换成<code>JavaScript</code>对象:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;https://davidwalsh.name/demo/arsenal.json&apos;).then(function(response) &#123;</span><br><span class="line">    // 转换为 JSON</span><br><span class="line">    return response.json();</span><br><span class="line">&#125;).then(function(j) &#123;</span><br><span class="line">    // 现在, `j` 是一个 JavaScript object</span><br><span class="line">    console.log(j);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>当然这很简单 , 只是封装了 <code>JSON.parse(jsonString)</code> 而已, 但 <code>json</code> 方法还是很方便的。</p>
<h3 id="处理基本的Text-HTML响应"><a href="#处理基本的Text-HTML响应" class="headerlink" title="处理基本的Text / HTML响应"></a>处理基本的Text / HTML响应</h3><p><code>JSON</code> 并不总是理想的请求/响应数据格式, 那么我们看看如何处理 <code>HTML</code>或文本结果:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/next/page&apos;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    return response.text();</span><br><span class="line">  &#125;).then(function(text) &#123;</span><br><span class="line">    // &lt;!DOCTYPE ....</span><br><span class="line">    console.log(text);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<p>如上面的代码所示, 可以在 <code>Promise</code> 链式的<code>then</code>方法中, 先返回 <code>text()</code> 结果 ,再获取 <code>text</code> 。</p>
<h3 id="处理Blob结果"><a href="#处理Blob结果" class="headerlink" title="处理Blob结果"></a>处理Blob结果</h3><p>如果你想通过 <code>fetch</code> 加载图像或者其他二进制数据, 则会略有不同:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'flowers.jpg'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> response.blob();</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">imageBlob</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).src = URL.createObjectURL(imageBlob);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<p>响应 <code>Body mixin</code> 的 <code>blob()</code> 方法处理响应流(Response stream), 并且将其读完。</p>
<h3 id="提交表单数据-Posting-Form-Data"><a href="#提交表单数据-Posting-Form-Data" class="headerlink" title="提交表单数据(Posting Form Data)"></a>提交表单数据(Posting Form Data)</h3><p>另一种常用的 <code>AJAX</code> 调用是提交表单数据 —— 示例代码如下:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/submit'</span>, &#123;</span><br><span class="line">    method: <span class="string">'post'</span>,</span><br><span class="line">    body: <span class="keyword">new</span> FormData(<span class="built_in">document</span>.getElementById(<span class="string">'comment-form'</span>))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>提交 <code>JSON</code> 的示例如下:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/submit-json'</span>, &#123;</span><br><span class="line">    method: <span class="string">'post'</span>,</span><br><span class="line">    body: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">        email: <span class="built_in">document</span>.getElementById(<span class="string">'email'</span>).value</span><br><span class="line">        answer: <span class="built_in">document</span>.getElementById(<span class="string">'answer'</span>).value</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>非常非常简单, 妈妈再也不用担心我的Ajax!</p>
<h3 id="未完的故事-Unwritten-Story"><a href="#未完的故事-Unwritten-Story" class="headerlink" title="未完的故事(Unwritten Story)"></a>未完的故事(Unwritten Story)</h3><p><code>fetch</code> 是个很实用的API , 当前还不允许取消请求, 这使得很多程序员暂时不会考虑它。</p>
<p>新的 <code>fetch API</code> 比起<code>XHR</code> 更简单也更智能。毕竟,它就是专为AJAX而设计的, 具有后发优势. 而我已经迫不及待地使用了, 即使现在兼容性还不是那么好!</p>
<p>本文简单介绍了 <code>fetch</code> 。更多信息请访问 <code>Fetch简</code>介。如果你要使用<code>fetch</code>, 也想寻找<code>polyfill(兼容代码)</code>, 请点击: <code>GitHub</code>上的<code>fetch</code>实现 <a href="https://github.com/github/fetch。">https://github.com/github/fetch。</a></p>
<p>翻译人员: 铁锚 <a href="http://blog.csdn.net/renfufei" target="_blank" rel="noopener">http://blog.csdn.net/renfufei</a></p>
<p>翻译时间: 2016年5月22日</p>
<p>原文时间: 2016年4月15日</p>
<p>原文链接: <a href="https://davidwalsh.name/fetch" target="_blank" rel="noopener">https://davidwalsh.name/fetch</a></p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://github.com/xiaqianan/2017/12/07/深入浅出Fetch-API/" data-id="cjcej2dhy0026z0qet2utcwel" class="article-share-link"><i class="fa fa-share"></i>シェア</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>フォロー:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/xiaqianan" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/12/10/关于多表查询sql常用的连接语句：左外连接、右外连接、内连接/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">新しい</strong>
        <p class="article-nav-title">
        
            关于多表查询sql常用的连接语句：内连接、左外连接、右外连接。
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2017/11/27/理解Spring中的IOC和AOP/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">古い</strong>
        <p class="article-nav-title">理解Spring中的IOC和AOP</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/01/13/Java集合干货——ArrayList源码分析/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-gold-cdn.xitu.io/2018/1/12/160ea59dacef93e0?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)" alt="Java集合干货——ArrayList源码分析" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/2018/01/13/Java集合干货——ArrayList源码分析/" class="title">Java集合干货——ArrayList源码分析</a></p>
                            <p class="item-date"><time datetime="2018-01-13T08:19:58.000Z" itemprop="datePublished">2018-01-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/26/javap指令集/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/2017/12/26/javap指令集/" class="title">Javap指令集</a></p>
                            <p class="item-date"><time datetime="2017-12-26T14:08:36.000Z" itemprop="datePublished">2017-12-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/23/用Python给头像加上圣诞帽/" class="thumbnail">
    
    
        <span style="background-image:url(https://raw.githubusercontent.com/b2stry/imgrepo/master/addbefore.jpg)" alt="用Python给头像加上圣诞帽" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Python/">Python</a></p>
                            <p class="item-title"><a href="/2017/12/23/用Python给头像加上圣诞帽/" class="title">用Python给头像加上圣诞帽</a></p>
                            <p class="item-date"><time datetime="2017-12-23T13:53:36.000Z" itemprop="datePublished">2017-12-23</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/23/教务系统一键评教/" class="thumbnail">
    
    
        <span style="background-image:url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1515838304665&di=1e32350b1e49e46f8c04245b09b2044d&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F040d89554da0df000001693e0a3d87.jpg)" alt="教务系统一键评教" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Js/">Js</a></p>
                            <p class="item-title"><a href="/2017/12/23/教务系统一键评教/" class="title">教务系统一键评教</a></p>
                            <p class="item-date"><time datetime="2017-12-23T11:03:21.000Z" itemprop="datePublished">2017-12-23</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/12/18/列表生成式-过滤器（filter）-映射（map）-lambda总结/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2017/12/18/列表生成式-过滤器（filter）-映射（map）-lambda总结/" class="title">列表生成式+过滤器（filter）+映射（map）+lambda总结</a></p>
                            <p class="item-date"><time datetime="2017-12-18T15:01:29.000Z" itemprop="datePublished">2017-12-18</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">カテゴリー</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AMQ/">AMQ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/">Ajax</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Elasticsearch/">Elasticsearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Js/">Js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shell/">Shell</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/command/">command</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/fetch/">fetch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/interview/">interview</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/network/">network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/regex/">regex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sql/">sql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/">读书</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">アーカイブ</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">タグ</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/">Ajax</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/">Elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSP/">JSP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch/">fetch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/一键评教/">一键评教</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/消息中间件/">消息中间件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络/">计算机网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书/">读书</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">タグクラウド</h3>
        <div class="widget tagcloud">
            <a href="/tags/Ajax/" style="font-size: 13.33px;">Ajax</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/Java/" style="font-size: 13.33px;">Java</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/fetch/" style="font-size: 10px;">fetch</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/java/" style="font-size: 13.33px;">java</a> <a href="/tags/linux/" style="font-size: 13.33px;">linux</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/redis/" style="font-size: 20px;">redis</a> <a href="/tags/shell/" style="font-size: 16.67px;">shell</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/一键评教/" style="font-size: 10px;">一键评教</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/消息中间件/" style="font-size: 10px;">消息中间件</a> <a href="/tags/算法/" style="font-size: 13.33px;">算法</a> <a href="/tags/计算机网络/" style="font-size: 10px;">计算机网络</a> <a href="/tags/读书/" style="font-size: 10px;">读书</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">リンク</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2018 夏浅安</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://github.com/xiaqianan/2017/12/07/深入浅出Fetch-API/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
